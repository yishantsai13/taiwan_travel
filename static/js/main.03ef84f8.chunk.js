(this.webpackJsonptaiwan_travel=this.webpackJsonptaiwan_travel||[]).push([[0],{20:function(t,e,n){},21:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),c=n(13),i=n.n(c),r=(n(20),n(15)),o=n(3),l=n(6),u=n(5),p=n(4),h=(n(21),n(14));function j(){var t=(new Date).toGMTString(),e=new h.a("SHA-1","TEXT");e.setHMACKey("XEg5uRI-uoeY6vXF0Xr3Udz-HNI","TEXT"),e.update("x-date: "+t);var n=e.getHMAC("B64");return{Authorization:'hmac username="'.concat("f90c9da674534df398fca338c8aa34b8",'", algorithm="hmac-sha1", headers="x-date", signature="').concat(n,'"'),"X-Date":t}}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="",n=["$format=JSON"];t.hasOwnProperty("keyWord")&&t.keyWord&&n.push("$filter=contains(Name,'".concat(t.keyWord,"')")),t.hasOwnProperty("limitNum")&&n.push("$top=".concat(t.limitNum));var a=n.join("&");return e=t.hasOwnProperty("city")?"https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/".concat(t.city,"?").concat(a):"https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?".concat(a),fetch(e,{headers:j()}).then((function(t){return t.json()}))}var d=n(8),x=n(0),m=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.item,e={backgroundImage:"url(".concat(t.Picture.PictureUrl1,")")};return Object(x.jsxs)("div",{className:"bg-white rounded card",children:[Object(x.jsx)(d.b,{to:"/spotDetail",state:{item:t},children:Object(x.jsx)("div",{className:"bg-cover bg-center w-full card-img rounded-t",style:e})}),Object(x.jsxs)("div",{className:"p-md",children:[Object(x.jsx)("h2",{className:"text-sm",children:t.Name}),Object(x.jsxs)("div",{className:"text-ss text-gray-dark py-md space-y-sm",children:[Object(x.jsx)("div",{children:t.OpenTime}),Object(x.jsx)("div",{children:t.Address})]})]})]})}}]),n}(s.a.Component),O=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.scenicSpotList.slice(),e=t.map((function(t,e){return Object(x.jsx)(m,{item:t},e)})),n=Object(x.jsx)("div",{children:"\u6c92\u6709\u8cc7\u6599\u5594!"});return Object(x.jsx)("div",{className:"grid grid-cols-4 gap-4",children:t.length?e:n})}}]),n}(s.a.Component),f=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(x.jsxs)("div",{className:"bg-white flex flex-1 px-4 py-3 rounded border border-gray-lighter h-fit-content mr-12",children:[Object(x.jsx)("input",{type:"text",className:"flex-1 focus:outline-none ",placeholder:"\u8f38\u5165\u95dc\u9375\u5b57",value:this.props.inputValue,onChange:function(e){return t.props.onChange(e)}}),Object(x.jsx)("button",{type:"submit",className:"border bg-brown-light px-8 py-2.5 rounded text-sm text-white",onClick:function(){return t.props.submitSearch()},children:"\u641c\u5c0b"})]})}}]),n}(s.a.Component),g=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"bg-brown h-76px flex items-center justify-end px-20",children:[Object(x.jsx)(d.b,{to:"/",className:"logo mr-auto",children:"Go Travel"}),Object(x.jsx)("div",{className:"text-sm text-white border-gray-border"})]})}}]),n}(s.a.Component),v=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.scenicSpotList.slice(),e=t.map((function(t,e){return Object(x.jsx)(m,{item:t},e)})),n=Object(x.jsx)("div",{children:"\u6c92\u6709\u8cc7\u6599\u5594!"});return Object(x.jsx)("div",{className:"flex jusitfy-between space-x-4",children:t.length?e:n})}}]),n}(s.a.Component),y=n(9),C={Keelung:{name:"\u57fa\u9686\u5e02",position:{top:"6px",left:"490px"}},Taipei:{name:"\u53f0\u5317\u5e02",position:{top:"33px",left:"440px"}},NewTaipei:{name:"\u65b0\u5317\u5e02",position:{top:"63px",left:"460px"}},Taoyuan:{name:"\u6843\u5712\u5e02",position:{top:"50px",left:"360px"}},Hsinchu:{name:"\u65b0\u7af9\u5e02",position:{top:"80px",left:"330px"}},HsinchuCounty:{name:"\u65b0\u7af9\u7e23",position:{top:"110px",left:"370px"}},MiaoliCounty:{name:"\u82d7\u6817\u7e23",position:{top:"140px",left:"320px"}},Taichung:{name:"\u53f0\u4e2d\u5e02",position:{top:"200px",left:"300px"}},ChanghuaCounty:{name:"\u5f70\u5316\u7e23",position:{top:"240px",left:"250px"}},NantouCounty:{name:"\u5357\u6295\u7e23",position:{top:"260px",left:"330px"}},YunlinCounty:{name:"\u96f2\u6797\u7e23",position:{top:"300px",left:"230px"}},Chiayi:{name:"\u5609\u7fa9\u5e02",position:{top:"330px",left:"220px"}},ChiayiCounty:{name:"\u5609\u7fa9\u7e23",position:{top:"340px",left:"300px"}},Tainan:{name:"\u53f0\u5357\u5e02",position:{top:"390px",left:"210px"}},Kaohsiung:{name:"\u9ad8\u96c4\u5e02",position:{top:"430px",left:"250px"}},PingtungCounty:{name:"\u5c4f\u6771\u7e23",position:{top:"500px",left:"280px"}},TaitungCounty:{name:"\u53f0\u6771\u7e23",position:{top:"450px",left:"350px"}},HualienCounty:{name:"\u82b1\u84ee\u7e23",position:{top:"300px",left:"430px"}},YilanCounty:{name:"\u5b9c\u862d\u7e23",position:{top:"120px",left:"460px"}},PenghuCounty:{name:"\u6f8e\u6e56\u7e23",position:{top:"300px",left:"50px"}},KinmenCounty:{name:"\u91d1\u9580\u7e23",position:{top:"130px",left:"40px"}},LienchiangCounty:{name:"\u9023\u6c5f\u7e23",position:{top:"20px",left:"100px"}}};function N(t){var e=t.customClass,n=t.customStyle,a=t.isActive,s=t.children,c=t.selectLabel,i=(t.unSelect,{backgroundImage:"url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABfSURBVHgBXU/bDYAwCOx1MV2jf3Uy+1NYQydxFASDBiEhwPG4A3POXmtdWmtbCcbMu4bzKYhoOPA11YfleEEbAiBeQi/2kk23LvOIIXFCRIpd+mmKnFkT/Is1c7qm4wb58DX1ZJlIRQAAAABJRU5ErkJggg==",")"),backgroundSize:"8px 8px",width:"8px",height:"8px"}),r="px-2 py-1 leading-none w-max bg-white cursor-pointer ";return a&&(r+="bg-gray-lighter "),Object(x.jsxs)("div",{className:r+e,style:n,onClick:function(){return c()},children:[Object(x.jsx)("span",{className:"text-ss text-secondary",children:s}),a&&Object(x.jsx)("div",{className:"inline-block ml-2",style:i})]})}var A=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={city:t.city,seacrchInputValue:t.keyWord||"",isSubmit:!1},a}return Object(l.a)(n,[{key:"selectCity",value:function(){this.setState({city:""})}},{key:"handleSearchInputChange",value:function(t){this.setState({seacrchInputValue:t.target.value})}},{key:"render",value:function(){var t=this,e=this.state.city&&Object(x.jsx)(N,{isActive:!0,selectLabel:function(){return t.selectCity()},children:C[this.state.city].name}),n=[];return this.state.city&&n.push("country=".concat(this.state.city)),this.state.seacrchInputValue&&n.push("keyword=".concat(this.state.seacrchInputValue)),Object(x.jsxs)("div",{className:"bg-white flex flex-1 px-4 py-3 rounded border border-brown-lighter h-fit-content mt-8 items-center",children:[Object(x.jsx)("input",{type:"text",className:"flex-1 focus:outline-none",placeholder:"\u8f38\u5165\u95dc\u9375\u5b57",value:this.state.seacrchInputValue,onChange:function(e){return t.handleSearchInputChange(e)}}),Object(x.jsx)("div",{className:"border-l"}),Object(x.jsxs)("div",{className:"flex flex-col py-1 px-2 flex-1",children:[Object(x.jsx)("div",{className:"text-gray text-ss mb-1",children:"\u7e23\u5e02"}),Object(x.jsx)("div",{className:"",children:this.state.city&&e})]}),Object(x.jsx)(d.b,{className:"border bg-brown-yellow px-6 py-3 rounded text-sm text-white h-fit-content",to:"/searchResult?".concat(n.join("&")),children:"\u641c\u5c0b"})]})}}]),n}(s.a.Component);function S(){var t=Object(a.useState)(""),e=(Object(y.a)(t,1)[0],Object(a.useState)([])),n=Object(y.a)(e,2),s=n[0],c=n[1],i=Object(a.useState)(0),r=Object(y.a)(i,2),o=(r[0],r[1]),l=Object(d.c)(),u=Object(y.a)(l,1)[0],p=u.get("country")||"",h=u.get("keyword");Object(a.useEffect)((function(){b({keyWord:h,limitNum:20,city:p}).then((function(t){c(t),o(t.length)}),(function(t){console.log(t)}))}),[h]),console.log(s);var j=s.map((function(t,e){return Object(x.jsx)(m,{item:t},e)}));return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(A,{city:p,keyWord:h}),Object(x.jsx)("div",{className:"grid grid-cols-4 gap-4 mt-10",children:j})]})}var w=n(2);function k(){var t=Object(w.f)(),e=t.state&&t.state.item||{},n=Object(w.g)();return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(A,{}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"my-6 text-secondary",children:Object(x.jsx)("span",{onClick:function(){return n(-1)},className:"cursor-pointer",children:"\u8fd4\u56de"})}),Object(x.jsxs)("div",{className:"bg-white px-10 py-8",children:[Object(x.jsx)("div",{className:"text-xl mb-5",children:e.Name}),Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsxs)("div",{className:"w-3/4",children:[Object(x.jsx)("img",{src:e.Picture.PictureUrl1,className:"bg-cover bg-center w-full"}),Object(x.jsx)("p",{className:"mt-12 text-black-dark",children:e.DescriptionDetail})]}),Object(x.jsxs)("div",{className:"ml-8 w-1/4",children:[Object(x.jsx)("div",{className:"text-lg mb-6",children:"\u8a73\u7d30\u8cc7\u8a0a"}),Object(x.jsxs)("div",{className:"flex flex-col text-sm",children:[Object(x.jsxs)("div",{className:"flex mb-4",children:[Object(x.jsx)("span",{className:"mr-4",children:"\u6642\u9593"}),Object(x.jsx)("span",{children:e.OpenTime})]}),Object(x.jsxs)("div",{className:"flex mb-4",children:[Object(x.jsx)("span",{className:"mr-4",children:"\u96fb\u8a71"}),Object(x.jsx)("span",{children:e.Phone})]}),Object(x.jsxs)("div",{className:"flex mb-4",children:[Object(x.jsx)("span",{className:"mr-4",children:"\u4f4d\u7f6e"}),Object(x.jsx)("span",{className:"flex-auto",children:e.Address})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"text-lg mb-6",children:"\u4ea4\u901a\u8cc7\u8a0a"}),Object(x.jsx)("p",{className:"text-sm",children:e.TravelInfo})]})]})]})]})]})]})}var P=n.p+"static/media/taiwan.c9b4072e.png";function I(t){var e=t.selectCity,n=t.selectedCityList,s=Object(a.useState)(C),c=Object(y.a)(s,1)[0],i={backgroundImage:"url(".concat(P,")"),width:"559px",height:"629px",backgroundRepeat:"no-repeat"},r=Object.keys(c).map((function(t){var a=c[t];return Object(x.jsx)(N,{customClass:"absolute",customStyle:a.position,isActive:n&&n.some((function(e){return e===t})),selectLabel:function(){return e(t)},children:a.name},t)}));return Object(x.jsx)("div",{style:i,className:"relative",children:r})}var L=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"bg-blue-light text-content pb-12",children:[Object(x.jsx)(g,{}),Object(x.jsxs)(w.d,{children:[Object(x.jsx)(w.b,{path:"/",element:Object(x.jsx)(D,{})}),Object(x.jsx)(w.b,{path:"/favorite",element:Object(x.jsx)(v,{})}),Object(x.jsx)(w.b,{path:"/searchResult",element:Object(x.jsx)(S,{})}),Object(x.jsx)(w.b,{path:"/spotDetail",element:Object(x.jsx)(k,{})})]})]})}}]),n}(s.a.Component),D=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={scenicSpotList:[],seacrchInputValue:"",pageData:{perPage:4,currentPage:1},totalDataAmount:0,isSubmit:!1,selectedCityList:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;b({limitNum:4}).then((function(e){t.setState({scenicSpotList:e,totalDataAmount:e.length})}),(function(t){console.log(t)}))}},{key:"handleSearchInputChange",value:function(t){this.setState({seacrchInputValue:t.target.value})}},{key:"submitSearch",value:function(){this.setState({isSubmit:!0}),this.setState({pageData:{currentPage:1,perPage:this.state.pageData.perPage}})}},{key:"sliceData",value:function(t){var e=(this.state.pageData.currentPage-1)*this.state.pageData.perPage;return t.slice(e,e+this.state.pageData.perPage)}},{key:"jumpToPage",value:function(t){var e=Math.ceil(this.state.totalDataAmount/this.state.pageData.perPage);t<1||t>e||this.setState({pageData:{currentPage:t,perPage:this.state.pageData.perPage}})}},{key:"selectCity",value:function(t){if(this.state.selectedCityList.some((function(e){return e===t}))){var e=this.state.selectedCityList.slice().filter((function(e){return e!==t}));this.setState({selectedCityList:e})}else this.state.selectedCityList.length>0||this.setState({selectedCityList:[].concat(Object(r.a)(this.state.selectedCityList),[t])})}},{key:"render",value:function(){var t=this,e=this.state.scenicSpotList,n=this.state.seacrchInputValue,a=[];return this.state.selectedCityList[0]&&a.push("country=".concat(this.state.selectedCityList[0])),n&&a.push("keyword=".concat(n)),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"flex pt-24 items-center",children:[this.state.isSubmit&&Object(x.jsx)(w.a,{to:"/searchResult?".concat(a.join("&")),replace:!0}),Object(x.jsx)(f,{inputValue:n,onChange:function(e){return t.handleSearchInputChange(e)},submitSearch:function(e){return t.submitSearch(e)}}),Object(x.jsx)(I,{selectedCityList:this.state.selectedCityList,selectCity:function(e){return t.selectCity(e)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"text-lg pb-4",children:"\u71b1\u9580\u666f\u9ede"}),Object(x.jsx)(O,{scenicSpotList:this.sliceData(e)})]})]})})}}]),n}(s.a.Component),T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),c(t),i(t)}))};i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(d.a,{basename:"/taiwan_travel",children:Object(x.jsx)(L,{})})}),document.getElementById("root")),T()}},[[23,1,2]]]);
//# sourceMappingURL=main.03ef84f8.chunk.js.map