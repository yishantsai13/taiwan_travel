(this.webpackJsonptaiwan_travel=this.webpackJsonptaiwan_travel||[]).push([[0],{18:function(e,t,c){},19:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(12),r=c.n(n),i=(c(18),c(3)),l=c(6),o=c(5),j=c(4),u=(c(19),c(13));function b(){var e=(new Date).toGMTString(),t=new u.a("SHA-1","TEXT");t.setHMACKey("XEg5uRI-uoeY6vXF0Xr3Udz-HNI","TEXT"),t.update("x-date: "+e);var c=t.getHMAC("B64");return{Authorization:'hmac username="'.concat("f90c9da674534df398fca338c8aa34b8",'", algorithm="hmac-sha1", headers="x-date", signature="').concat(c,'"'),"X-Date":e}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(e);var t="",c=["$format=JSON"];e.hasOwnProperty("keyWord")&&c.push("$filter=contains(Name,'".concat(e.keyWord,"')")),e.hasOwnProperty("limitNum")&&c.push("$top=".concat(e.limitNum));var a=c.join("&");return t=e.hasOwnProperty("city")?"https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/".concat(e.city,"?").concat(a):"https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?".concat(a),fetch(t,{headers:b()}).then((function(e){return e.json()}))}var h=c(0),p=(s.a.Component,c(8)),x=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){var e=this.props.item;console.log(e);var t={backgroundImage:"url(".concat(e.Picture.PictureUrl1,")")};return Object(h.jsxs)("div",{className:"bg-white rounded card",children:[Object(h.jsx)(p.b,{to:"/spotDetail",state:{item:e},children:Object(h.jsx)("div",{className:"bg-cover bg-center w-full card-img rounded-t",style:t})}),Object(h.jsxs)("div",{className:"p-md",children:[Object(h.jsx)("h2",{className:"text-sm",children:e.Name}),Object(h.jsxs)("div",{className:"text-ss text-gray-dark py-md space-y-sm",children:[Object(h.jsx)("div",{children:e.OpenTime}),Object(h.jsx)("div",{children:e.Address})]})]})]})}}]),c}(s.a.Component),m=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){var e=this.props.scenicSpotList.slice(),t=e.map((function(e,t){return Object(h.jsx)(x,{item:e},t)})),c=Object(h.jsx)("div",{children:"\u6c92\u6709\u8cc7\u6599\u5594!"});return Object(h.jsx)("div",{className:"grid grid-cols-4 gap-4",children:e.length?t:c})}}]),c}(s.a.Component),O=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"bg-white flex flex-1 px-4 py-3 rounded border border-gray-lighter h-fit-content mr-12",children:[Object(h.jsx)("input",{type:"text",className:"flex-1 focus:outline-none ",placeholder:"\u8f38\u5165\u95dc\u9375\u5b57",value:this.props.inputValue,onChange:function(t){return e.props.onChange(t)},onKeyUp:function(t){return e.props.submitSearch(t)}}),Object(h.jsx)("button",{type:"submit",className:"border bg-brown-light px-8 py-2.5 rounded text-sm text-white",onClick:function(){return e.props.submitSearch()},children:"\u641c\u5c0b"})]})}}]),c}(s.a.Component),g=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"bg-brown h-76px flex items-center justify-end px-20",children:[Object(h.jsx)(p.b,{to:"/",className:"logo mr-auto",children:"Go Travel"}),Object(h.jsxs)("div",{className:"text-sm text-white border-gray-border",children:[Object(h.jsx)("a",{href:"#",className:"mr-8",children:"\u666f\u9ede\u641c\u5c0b"}),Object(h.jsx)(p.b,{to:"/favorite",children:"\u6211\u7684\u6536\u85cf"})]})]})}}]),c}(s.a.Component),v=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){var e=this.props.scenicSpotList.slice(),t=e.map((function(e,t){return Object(h.jsx)(x,{item:e},t)})),c=Object(h.jsx)("div",{children:"\u6c92\u6709\u8cc7\u6599\u5594!"});return Object(h.jsx)("div",{className:"flex jusitfy-between space-x-4",children:e.length?t:c})}}]),c}(s.a.Component),f=c(9);function y(){var e={backgroundImage:"url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABfSURBVHgBXU/bDYAwCOx1MV2jf3Uy+1NYQydxFASDBiEhwPG4A3POXmtdWmtbCcbMu4bzKYhoOPA11YfleEEbAiBeQi/2kk23LvOIIXFCRIpd+mmKnFkT/Is1c7qm4wb58DX1ZJlIRQAAAABJRU5ErkJggg==",")"),backgroundSize:"8px 8px",width:"8px",height:"8px"};return Object(h.jsxs)("div",{className:"bg-gray-lighter px-2 py-1 leading-none w-max",children:[Object(h.jsx)("span",{className:"text-ss text-secondary",children:"\u53f0\u5317"}),Object(h.jsx)("div",{className:"inline-block ml-2",style:e})]})}function N(){var e=this;return Object(h.jsxs)("div",{className:"bg-white flex flex-1 px-4 py-3 rounded border border-brown-lighter h-fit-content mt-8",children:[Object(h.jsx)("input",{type:"text",className:"flex-1 focus:outline-none ",placeholder:"\u8f38\u5165\u95dc\u9375\u5b57"}),Object(h.jsx)("div",{className:"border-l"}),Object(h.jsxs)("div",{className:"flex flex-col py-1 px-2 flex-1",children:[Object(h.jsx)("div",{className:"text-gray text-ss mb-1",children:"\u7e23\u5e02"}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)(y,{})})]}),Object(h.jsx)("button",{type:"submit",className:"border bg-brown-yellow px-6 py-2 rounded text-sm text-white h-auto",onClick:function(){return e.props.submitSearch()},children:"\u641c\u5c0b"})]})}function A(){var e=Object(a.useState)(""),t=(Object(f.a)(e,1)[0],Object(a.useState)([])),c=Object(f.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(0),i=Object(f.a)(r,2),l=(i[0],i[1]),o=Object(p.c)(),j=Object(f.a)(o,1)[0],u=(j.get("country"),j.get("keyword"));console.log(u),Object(a.useEffect)((function(){d({keyWord:u,limitNum:20}).then((function(e){n(e),l(e.length)}),(function(e){console.log(e)}))}),[u]);var b=s.map((function(e,t){return Object(h.jsx)(x,{item:e},t)}));return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(N,{}),Object(h.jsx)("div",{className:"grid grid-cols-4 gap-4 mt-10",children:b})]})}var w=c(2);function S(){var e=Object(w.f)(),t=e.state&&e.state.item||{};"url(".concat(t.Picture.PictureUrl1,")");return console.log(t),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(N,{}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"my-6 text-secondary",children:Object(h.jsx)("span",{children:"\u8fd4\u56de"})}),Object(h.jsxs)("div",{className:"bg-white px-10 py-8",children:[Object(h.jsx)("div",{className:"text-xl mb-5",children:t.Name}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsxs)("div",{className:"w-3/4",children:[Object(h.jsx)("img",{src:t.Picture.PictureUrl1,className:"bg-cover bg-center w-full"}),Object(h.jsx)("p",{className:"mt-12 text-black-dark",children:t.DescriptionDetail})]}),Object(h.jsxs)("div",{className:"ml-8 w-1/4",children:[Object(h.jsx)("div",{className:"text-lg mb-6",children:"\u8a73\u7d30\u8cc7\u8a0a"}),Object(h.jsxs)("div",{className:"flex flex-col text-sm",children:[Object(h.jsxs)("div",{className:"flex mb-4",children:[Object(h.jsx)("span",{className:"mr-4",children:"\u6642\u9593"}),Object(h.jsx)("span",{children:t.OpenTime})]}),Object(h.jsxs)("div",{className:"flex mb-4",children:[Object(h.jsx)("span",{className:"mr-4",children:"\u96fb\u8a71"}),Object(h.jsx)("span",{children:t.Phone})]}),Object(h.jsxs)("div",{className:"flex mb-4",children:[Object(h.jsx)("span",{className:"mr-4",children:"\u4f4d\u7f6e"}),Object(h.jsx)("span",{className:"flex-auto",children:t.Address})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"text-lg mb-6",children:"\u4ea4\u901a\u8cc7\u8a0a"}),Object(h.jsx)("p",{className:"text-sm",children:t.TravelInfo})]})]})]})]})]})]})}var k=c.p+"static/media/taiwan.c9b4072e.png",C=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"bg-blue-light text-content",children:[Object(h.jsx)(g,{}),Object(h.jsxs)(w.d,{children:[Object(h.jsx)(w.b,{path:"/",element:Object(h.jsx)(P,{})}),Object(h.jsx)(w.b,{path:"/favorite",element:Object(h.jsx)(v,{})}),Object(h.jsx)(w.b,{path:"/searchResult",element:Object(h.jsx)(A,{})}),Object(h.jsx)(w.b,{path:"/spotDetail",element:Object(h.jsx)(S,{})})]})]})}}]),c}(s.a.Component),P=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(e){var a;return Object(i.a)(this,c),(a=t.call(this,e)).state={scenicSpotList:[],seacrchInputValue:"",pageData:{perPage:4,currentPage:1},totalDataAmount:0,isSubmit:!1},a}return Object(l.a)(c,[{key:"componentDidMount",value:function(){var e=this;d({limitNum:4}).then((function(t){e.setState({scenicSpotList:t,totalDataAmount:t.length})}),(function(e){console.log(e)}))}},{key:"handleSearchInputChange",value:function(e){this.setState({seacrchInputValue:e.target.value})}},{key:"submitSearch",value:function(e){if(!e||13===e.keyCode){this.state.seacrchInputValue;this.setState({isSubmit:!0}),this.setState({pageData:{currentPage:1,perPage:this.state.pageData.perPage}})}}},{key:"sliceData",value:function(e){var t=(this.state.pageData.currentPage-1)*this.state.pageData.perPage;return e.slice(t,t+this.state.pageData.perPage)}},{key:"jumpToPage",value:function(e){var t=Math.ceil(this.state.totalDataAmount/this.state.pageData.perPage);e<1||e>t||this.setState({pageData:{currentPage:e,perPage:this.state.pageData.perPage}})}},{key:"render",value:function(){var e=this,t=this.state.scenicSpotList,c=this.state.seacrchInputValue,a={backgroundImage:"url(".concat(k,")"),width:"559px",height:"629px"};return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{className:"flex pt-24 items-center",children:[this.state.isSubmit&&Object(h.jsx)(w.a,{to:"/searchResult?country=123&keyword=".concat(this.state.seacrchInputValue),replace:!0}),Object(h.jsx)(O,{inputValue:c,onChange:function(t){return e.handleSearchInputChange(t)},submitSearch:function(t){return e.submitSearch(t)}}),Object(h.jsx)("div",{style:a})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{className:"text-lg pb-4",children:"\u71b1\u9580\u666f\u9ede"}),Object(h.jsx)(m,{scenicSpotList:this.sliceData(t)})]})]})})}}]),c}(s.a.Component),D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,22)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(h.jsx)(p.a,{children:Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(C,{})})}),document.getElementById("root")),D()}},[[21,1,2]]]);
//# sourceMappingURL=main.0ed4f63e.chunk.js.map